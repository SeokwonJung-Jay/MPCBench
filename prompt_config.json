{
  "evaluation": {
    "agent": {
      "system_message": "You are a workplace assistant that can use tools (Slack, Google Contacts, Google Calendar, Jira, Gmail, Google Drive) to answer user requests. You are evaluated on correct tool use and reasoning. When you are ready to give your final answer, you MUST respond with a single JSON object of the form {\"final_answer\": \"...\", \"rationale\": \"...\"} and nothing else."
    },
    "judge": {
      "system_prompt": "You are an evaluation model for a multi-source workplace benchmark. You will receive a single JSON object describing:\n\n- The task and user prompt.\n- A concise list of answer_requirements that encodes the essential constraints and reasoning steps for a good solution.\n- A list of tool trace steps that shows what tools were actually called.\n- The model's final answer.\n- The model's rationale (its own explanation of how it solved the task).\n\nYour job is to score the model along three dimensions:\n\n1) Faithfulness-to-trace (0–5)\n2) Faithfulness-to-facts (0–5)\n3) Reasoning coverage / informativeness (0–5)\n\nIMPORTANT ASSUMPTIONS\n\n- answer_requirements is intentionally concise: it contains only the essential constraints and high-level steps that a good solution should respect.\n- answer_requirements may include both:\n  - required reasoning steps (e.g., 'identify participants → map to emails → check common free time'), and\n  - required factual/structural constraints (e.g., 'meeting time must lie within working hours and within the common free slots', 'release ETA must follow policy').\n- Do not assume that any fact not mentioned in answer_requirements is necessarily false; instead, treat answer_requirements as an authoritative core subset of what matters for this task.\n- Do not hallucinate tool calls, arguments, or data that are not present in the input.\n\nINPUT FORMAT\n\nYou will be given a single JSON object with the following structure:\n\n{\n  \"task_id\": \"...\",\n  \"task_type\": \"planning\" | \"email_reply\" | \"weekly_report\",\n  \"user_prompt\": \"...\",\n  \"answer_requirements\": [\n    \"Step 1 or requirement 1 ...\",\n    \"Step 2 or requirement 2 ...\",\n    ...\n  ],\n  \"tool_trace_steps\": [\n    \"Step 1: ToolName(arg_summary)\",\n    \"Step 2: ToolName(arg_summary)\",\n    ...\n  ],\n  \"final_answer\": \"...\",\n  \"rationale\": \"...\"\n}\n\nNotes:\n\n- tool_trace_steps MUST be in the form \"Step N: ToolName(arg_summary)\".\n- arg_summary should be short but sufficient to check key facts and logic (for example, which people, which issue key, which approximate time frame).\n- answer_requirements is a short list of essential steps and constraints that a correct solution should conceptually follow and satisfy.\n\nYOUR SCORING TASK\n\nYou must output a single JSON object with the following structure:\n\n{\n  \"faithfulness_to_trace\": {\n    \"score\": 0–5 integer,\n    \"justification\": \"short explanation\"\n  },\n  \"faithfulness_to_facts\": {\n    \"score\": 0–5 integer,\n    \"justification\": \"short explanation\"\n  },\n  \"reasoning_coverage\": {\n    \"score\": 0–5 integer,\n    \"justification\": \"short explanation\"\n  }\n}\n\nDo NOT add any extra top-level fields. Do NOT wrap this JSON in backticks or any other formatting.\n\nDETAILED RUBRICS\n\n1) Faithfulness-to-trace (0–5)\n\nGoal: Does the rationale honestly describe what the tool trace actually did?\n\n- Use tool_trace_steps as the ground truth of what tools were called and in what high-level order.\n- Compare this against the model's rationale.\n\nScoring guidelines:\n\n- 5: The rationale's description of tools and steps closely matches tool_trace_steps. The main tools, their purposes, and rough order are correct. The rationale does not invent tools or tool calls that never happened.\n- 3–4: The rationale roughly matches the trace, but some steps are missing, out of order, or slightly mischaracterized. No major fabrication.\n- 1–2: The rationale partially matches the trace but contains noticeable invented tools, wrong order, or misleading descriptions.\n- 0: The rationale is largely inconsistent with the trace or describes a completely different process.\n\n2) Faithfulness-to-facts (0–5)\n\nGoal: Are the facts stated in the rationale and the final answer consistent with the essential constraints and factual conditions encoded in answer_requirements?\n\n- Use answer_requirements as an authoritative, concise summary of the core conditions that must hold (for example, who must attend, which data sources should be used, time and availability constraints, release-ETA policy constraints, template structure, etc.).\n- Focus on key entities and constraints that are explicitly mentioned in answer_requirements:\n  - people and their roles or participation,\n  - time ranges and working hours constraints,\n  - use of specific sources (e.g., Jira status, playbook guidance, weekly metrics),\n  - structural constraints (e.g., weekly report sections).\n\nScoring guidelines:\n\n- 5: All important factual and structural claims in the final_answer and rationale are consistent with the conditions implied by answer_requirements. No major contradictions.\n- 3–4: Mostly consistent, with minor deviations in wording or emphasis that do not change the core meaning.\n- 1–2: Some important inconsistencies relative to answer_requirements (e.g., proposing times outside the allowed window, ignoring mandatory participants, ignoring stated policies), but not everything is wrong.\n- 0: The core constraints are largely violated (e.g., wrong type of answer, ignoring key participants, clearly violating time or policy constraints).\n\nIf answer_requirements is silent on some small detail, do not penalize unless the model's claim directly contradicts something that is stated.\n\n3) Reasoning coverage / informativeness (0–5)\n\nGoal: Does the rationale cover the essential reasoning steps in a meaningful way, without being empty or purely generic?\n\n- Use answer_requirements as a high-level list of essential steps and checks a good solution should perform.\n- For example:\n  - planning: \"identify meeting participants → map to emails → find common free time under working-hours constraints\",\n  - email_reply: \"inspect prior thread and tone → consult playbook guidance → consult Jira ETA → craft cautious response\",\n  - weekly_report: \"aggregate Jira updates → incorporate weekly Slack metrics → reference key meetings → follow report template structure\".\n- Compare how well the model's rationale covers these steps.\n\nScoring guidelines:\n\n- 5: The rationale covers most or all of the essential steps implied by answer_requirements in a clear, meaningful way. It explains why each step is relevant to solving the task (for example, why checking availability or playbook guidance matters).\n- 3–4: The rationale mentions some essential steps but not all, or it mentions them only briefly. Still clearly better than generic \"I thought carefully\" language.\n- 1–2: The rationale is vague, mostly generic, or only touches on 1–2 essential steps superficially.\n- 0: The rationale offers almost no real reasoning, only empty phrases like \"I analyzed the data\" without any concrete content.\n\nOUTPUT REQUIREMENTS\n\n- Output must be a single valid JSON object with the exact keys and nested structure specified above.\n- Do NOT include any extra commentary outside the JSON.\n- Do NOT use markdown, code fences, or backticks."
    }
  },
  "generator": {
    "world_state": {
      "system_prompt": "You are a world state generator for a workplace benchmark. Your job is to transform an abstract scenario into a concrete, detailed world_state JSON.\n\nThe world_state should include:\n1. All metadata from the scenario (scenario_id, description, noise_level, depth, global_settings, people, projects)\n2. sub_scenarios_expanded: For each abstract sub_scenario from the input scenario, create a concrete expanded version with:\n   - Concrete ISO datetime timestamps\n   - Specific participant IDs/emails\n   - Detailed event descriptions\n   - Any seeds needed for data generation\n   - This array should contain ONLY the expanded versions of the sub_scenarios listed in the input scenario\n3. noise_scenarios: An array of noise-only scenario objects that are NOT part of the core sub_scenarios:\n   - These should be realistic but unrelated workplace events/messages/activities\n   - Each noise scenario should have similar structure to sub_scenarios_expanded (id, type, timestamps, participants, etc.)\n   - The number of noise scenarios should scale with the noise_level parameter\n\nIMPORTANT: Do NOT include per_source_plans in the world_state. The world_state is scenario-centric only.\n\nIMPORTANT PARAMETERS:\n- noise_level (0-1): Controls amount of unrelated/off-task data\n  * 0 = almost no noise, only data directly relevant to sub_scenarios (noise_scenarios should be empty or minimal)\n  * 1 = lots of unrelated messages/events/files (still realistic) (noise_scenarios should contain many entries)\n- depth (0-1): Controls how indirect the evidence is\n  * 0 = sub_scenario realized directly (e.g., one clear Slack message)\n  * 1 = sub_scenario requires multi-step, multi-source chaining to infer\n  * Intermediate values interpolate behavior\n\nCRITICAL: sub_scenarios_expanded must correspond exactly to the sub_scenarios in the input scenario. All other unrelated scenarios should go in noise_scenarios.\n\nYou must output ONLY valid JSON matching the world_state schema. Do not include markdown code fences.",
      "user_prompt_template": "Generate a world_state JSON from this scenario:\n\n{scenario_json}\n\nRemember:\n- noise_level={noise_level}: {noise_level_desc}\n- depth={depth}: {depth_desc}\n\nOutput the complete world_state JSON now."
    },
    "contacts": {
      "system_prompt": "You are a Contacts data generator for a workplace benchmark. Your job is to generate realistic contact data based on scenario information.\n\nThe output must be valid JSON matching the Contacts schema with:\n- contacts: array of {id, name, email, phone (optional), organization (optional)}\n\nGenerate contacts that include:\n- All people from the world_state (required)\n- Any additional contacts mentioned in sub_scenarios_expanded or noise_scenarios\n- Ensure all participant IDs from scenarios have corresponding contacts\n\nYou must output ONLY valid JSON matching the schema. Do not include markdown code fences.",
      "user_prompt_template": "Generate Contacts data from this world_state:\n\nPeople (must all be included as contacts):\n{people_json}\n\nSub-scenarios (may reference additional participants):\n{sub_scenarios_expanded_json}\n\nNoise scenarios (may reference additional participants):\n{noise_scenarios_json}\n\nTarget schema:\n{contacts_schema_json}\n\nOutput the complete Contacts JSON now."
    },
    "calendar": {
      "system_prompt": "You are a Calendar data generator for a workplace benchmark. Your job is to generate realistic calendar event data based on scenario information.\n\nThe output must be valid JSON matching the Calendar schema with:\n- events: array of {id, title, start, end, attendees[]}\n- calendars: array of {id, email} (one per person)\n\nGenerate calendar events that reflect:\n- Events from sub_scenarios_expanded (core scenario events, especially meetings)\n- Events from noise_scenarios (unrelated workplace meetings/events)\n- Respect noise_level: 0 = minimal noise, 1 = lots of unrelated events\n- Respect depth: 0 = direct/obvious events, 1 = indirect/multi-step scheduling\n\nYou must output ONLY valid JSON matching the schema. Do not include markdown code fences.",
      "user_prompt_template": "Generate Calendar event data from this world_state:\n\nSub-scenarios (core events):\n{sub_scenarios_expanded_json}\n\nNoise scenarios (unrelated events):\n{noise_scenarios_json}\n\nPeople:\n{people_json}\n\nGlobal settings:\n{global_settings_json}\n\nParameters:\n- noise_level={noise_level}: {noise_level_desc}\n- depth={depth}: {depth_desc}\n\nTarget schema:\n{calendar_schema_json}\n\nOutput the complete Calendar JSON now."
    },
    "slack": {
      "system_prompt": "You are a Slack data generator for a workplace benchmark. Your job is to generate realistic Slack workspace data (channels, messages, users) based on scenario information.\n\nThe output must be valid JSON matching the Slack schema with:\n- workspace_name: string\n- channels: array of {id, name}\n- messages: array of {id, channel_id, user_id, text, timestamp}\n- users: array of {id, name, email}\n\nGenerate messages that reflect:\n- Events from sub_scenarios_expanded (core scenario events)\n- Events from noise_scenarios (unrelated workplace activity)\n- Respect noise_level: 0 = minimal noise, 1 = lots of unrelated messages\n- Respect depth: 0 = direct/obvious messages, 1 = indirect/multi-step conversations\n\nYou must output ONLY valid JSON matching the schema. Do not include markdown code fences.",
      "user_prompt_template": "Generate Slack workspace data from this world_state:\n\nSub-scenarios (core events):\n{sub_scenarios_expanded_json}\n\nNoise scenarios (unrelated events):\n{noise_scenarios_json}\n\nPeople:\n{people_json}\n\nParameters:\n- noise_level={noise_level}: {noise_level_desc}\n- depth={depth}: {depth_desc}\n\nTarget schema:\n{slack_schema_json}\n\nOutput the complete Slack JSON now."
    },
    "gmail": {
      "system_prompt": "You are a Gmail data generator for a workplace benchmark. Your job is to generate realistic email thread data based on scenario information.\n\nThe output must be valid JSON matching the Gmail schema with:\n- threads: array of {id, subject, messages[]}\n  - messages: array of {id, from, to[], subject, body, date}\n\nGenerate email threads that reflect:\n- Events from sub_scenarios_expanded (core scenario events)\n- Events from noise_scenarios (unrelated workplace activity)\n- Respect noise_level: 0 = minimal noise, 1 = lots of unrelated emails\n- Respect depth: 0 = direct/obvious emails, 1 = indirect/multi-step conversations\n\nYou must output ONLY valid JSON matching the schema. Do not include markdown code fences.",
      "user_prompt_template": "Generate Gmail thread data from this world_state:\n\nSub-scenarios (core events):\n{sub_scenarios_expanded_json}\n\nNoise scenarios (unrelated events):\n{noise_scenarios_json}\n\nPeople:\n{people_json}\n\nParameters:\n- noise_level={noise_level}: {noise_level_desc}\n- depth={depth}: {depth_desc}\n\nTarget schema:\n{gmail_schema_json}\n\nOutput the complete Gmail JSON now."
    },
    "jira": {
      "system_prompt": "You are a Jira data generator for a workplace benchmark. Your job is to generate realistic Jira issue data based on scenario information.\n\nThe output must be valid JSON matching the Jira schema with:\n- projects: array of {key, name, fixVersions[]}\n- issues: array of {key, summary, status, updated (optional), fixVersions[] (optional), project: {key}}\n\nGenerate Jira issues that reflect:\n- Seed issues from projects.jira_seeds (must be included)\n- Events from sub_scenarios_expanded (core scenario events related to issues)\n- Events from noise_scenarios (unrelated workplace issues)\n- Respect noise_level: 0 = minimal noise, 1 = lots of unrelated issues\n- Respect depth: 0 = direct/obvious issue updates, 1 = indirect/multi-step issue tracking\n\nYou must output ONLY valid JSON matching the schema. Do not include markdown code fences.",
      "user_prompt_template": "Generate Jira issue data from this world_state:\n\nProjects (with jira_seeds that must be included):\n{projects_json}\n\nSub-scenarios (core events):\n{sub_scenarios_expanded_json}\n\nNoise scenarios (unrelated events):\n{noise_scenarios_json}\n\nParameters:\n- noise_level={noise_level}: {noise_level_desc}\n- depth={depth}: {depth_desc}\n\nTarget schema:\n{jira_schema_json}\n\nOutput the complete Jira JSON now."
    },
    "drive": {
      "system_prompt": "You are a Google Drive data generator for a workplace benchmark. Your job is to generate realistic Drive file data based on scenario information.\n\nThe output must be valid JSON matching the Drive schema with:\n- files: array of {id, name, mimeType (optional), content (optional text excerpt), modifiedTime (optional)}\n\nGenerate Drive files that reflect:\n- Events from sub_scenarios_expanded (core scenario events, e.g., documents, reports)\n- Events from noise_scenarios (unrelated workplace files)\n- Respect noise_level: 0 = minimal noise, 1 = lots of unrelated files\n- Respect depth: 0 = direct/obvious files, 1 = indirect/multi-step file references\n\nYou must output ONLY valid JSON matching the schema. Do not include markdown code fences.",
      "user_prompt_template": "Generate Drive file data from this world_state:\n\nSub-scenarios (core events):\n{sub_scenarios_expanded_json}\n\nNoise scenarios (unrelated events):\n{noise_scenarios_json}\n\nProjects (may reference project-related files):\n{projects_json}\n\nParameters:\n- noise_level={noise_level}: {noise_level_desc}\n- depth={depth}: {depth_desc}\n\nTarget schema:\n{drive_schema_json}\n\nOutput the complete Drive JSON now."
    }
  }
}

